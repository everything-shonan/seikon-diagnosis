
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>成婚力診断結果</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <style>
    body {
      font-family: sans-serif;
      background: #e9f4fb;
      padding: 2em;
      text-align: center;
      color: #003b63;
    }
    .container {
      background: #ffffff;
      max-width: 800px;
      margin: auto;
      padding: 2em;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0, 91, 154, 0.1);
    }
    h1 {
      color: #005b9a;
    }
    .comment {
      text-align: left;
      margin: 1em 0;
      padding: 1em;
      background: #f3faff;
      border-left: 5px solid #007acc;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>診断結果</h1>
    <canvas id="radarChart" width="400" height="400"></canvas>
    <div id="scoreList"></div>
  </div>

  <script>
    const scores = JSON.parse(localStorage.getItem('seikonScores')) || {};
    const categories = Object.keys(scores);
    const values = categories.map(cat => scores[cat]);

    const ctx = document.getElementById('radarChart');
    new Chart(ctx, {
      type: 'radar',
      data: {
        labels: categories,
        datasets: [{
          label: 'スコア',
          data: values,
          backgroundColor: 'rgba(0,91,154,0.2)',
          borderColor: '#005b9a',
          pointBackgroundColor: '#005b9a'
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { display: false },
          title: { display: true, text: '成婚力レーダーチャート' }
        },
        scales: {
          r: {
            min: 0,
            max: 30,
            ticks: { stepSize: 5 }
          }
        }
      }
    });

    
const comments = {
  "印象力": {
    "S": "第一印象でしっかり心を掴めるあなたは、自然と信頼を得られる存在です。清潔感・笑顔・話し方すべてが相手に安心感を与えています。この力は婚活でも非常に大きな武器です。",
    "A": "好印象を与える基本的な要素は十分に備わっています。あとは少しの工夫や意識で、さらに磨かれた第一印象に変わります。自信を持ってそのまま進みましょう。",
    "B": "印象は悪くありませんが、やや印象が薄い可能性があります。笑顔や身だしなみ、話し方などを見直すことでグッと相手の心に残る存在になれます。",
    "C": "第一印象が婚活の成否を大きく左右する場面が多くあります。緊張しすぎていたり、暗い印象を与えてしまっているかも。まずは笑顔と姿勢、話し方を意識してみましょう。"
  },
  "共感力": {
    "S": "あなたは相手の気持ちに自然に寄り添い、共感を態度や言葉でしっかり伝えられるタイプです。信頼されやすく、安心して話せる空気感をつくることができています。",
    "A": "共感力は十分高く、相手との距離をスムーズに縮めることができます。さらに相手の感情の変化に敏感になることで、より深い信頼関係が築けるでしょう。",
    "B": "基本的には共感的な姿勢を持っていますが、やや表現が控えめになっている可能性があります。リアクションや相づちなど、小さな表現を意識すると効果的です。",
    "C": "相手との距離を縮めるには「共感」が鍵となります。無意識に自分本位になってしまっていないか、相手の話にしっかり耳を傾けているかを見直してみましょう。"
  }
};


    function getRank(score) {
      if (score >= 27) return "S";
      if (score >= 21) return "A";
      if (score >= 15) return "B";
      return "C";
    }

    const resultContainer = document.getElementById("scoreList");
    categories.forEach(cat => {
      const score = scores[cat];
      const rank = getRank(score);
      const comment = comments[cat]?.[rank] || "コメント準備中...";
      const div = document.createElement("div");
      div.className = "comment";
      div.innerHTML = `<strong>${cat}（${score}点） - ランク：${rank}</strong><br>${comment}`;
      resultContainer.appendChild(div);
    });
  </script>
</body>
</html>
